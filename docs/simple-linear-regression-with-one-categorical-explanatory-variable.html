<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Simple linear regression with one categorical explanatory variable | Data Analysis: Regression Modelling</title>
  <meta name="description" content="Simple linear regression with one categorical explanatory variable | Data Analysis: Regression Modelling" />
  <meta name="generator" content="bookdown 0.28 and GitBook 2.6.7" />

  <meta property="og:title" content="Simple linear regression with one categorical explanatory variable | Data Analysis: Regression Modelling" />
  <meta property="og:type" content="book" />
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Simple linear regression with one categorical explanatory variable | Data Analysis: Regression Modelling" />
  
  
  




  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="simple-linear-regression-with-one-numerical-explanatory-variable.html"/>
<link rel="next" href="further-tasks-simple-linear-regression.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.4/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.10.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.2.0/css/crosstalk.min.css" rel="stylesheet" />
<script src="libs/crosstalk-1.2.0/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-2.11.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-2.11.1/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
<link rel="stylesheet" href="include/webex.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="simple-linear-regression.html"><a href="simple-linear-regression.html"><i class="fa fa-check"></i>Simple linear regression</a></li>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-numerical-explanatory-variable.html"><a href="simple-linear-regression-with-one-numerical-explanatory-variable.html"><i class="fa fa-check"></i>Simple linear regression with one numerical explanatory variable</a>
<ul>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-numerical-explanatory-variable.html"><a href="simple-linear-regression-with-one-numerical-explanatory-variable.html#exploratory-data-analysis"><i class="fa fa-check"></i>Exploratory data analysis</a></li>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-numerical-explanatory-variable.html"><a href="simple-linear-regression-with-one-numerical-explanatory-variable.html#correlation"><i class="fa fa-check"></i>Correlation</a></li>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-numerical-explanatory-variable.html"><a href="simple-linear-regression-with-one-numerical-explanatory-variable.html#formal-analysis"><i class="fa fa-check"></i>Formal analysis</a></li>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-numerical-explanatory-variable.html"><a href="simple-linear-regression-with-one-numerical-explanatory-variable.html#assessing-model-fit"><i class="fa fa-check"></i>Assessing model fit</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-categorical-explanatory-variable.html"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html"><i class="fa fa-check"></i>Simple linear regression with one categorical explanatory variable</a>
<ul>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-categorical-explanatory-variable.html"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#exploratory-data-analysis-1"><i class="fa fa-check"></i>Exploratory data analysis</a></li>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-categorical-explanatory-variable.html"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#formal-analysis-1"><i class="fa fa-check"></i>Formal analysis</a></li>
<li class="chapter" data-level="" data-path="simple-linear-regression-with-one-categorical-explanatory-variable.html"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#assessing-model-fit-1"><i class="fa fa-check"></i>Assessing model fit</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="further-tasks-simple-linear-regression.html"><a href="further-tasks-simple-linear-regression.html"><i class="fa fa-check"></i>Further Tasks: Simple Linear Regression</a></li>
<li class="chapter" data-level="" data-path="multiple-linear-regression.html"><a href="multiple-linear-regression.html"><i class="fa fa-check"></i>Multiple Linear Regression</a></li>
<li class="chapter" data-level="" data-path="regression-modelling-with-two-continuous-explanatory-variables.html"><a href="regression-modelling-with-two-continuous-explanatory-variables.html"><i class="fa fa-check"></i>Regression modelling with two continuous explanatory variables</a>
<ul>
<li class="chapter" data-level="" data-path="regression-modelling-with-two-continuous-explanatory-variables.html"><a href="regression-modelling-with-two-continuous-explanatory-variables.html#exploratory-data-analysis-2"><i class="fa fa-check"></i>Exploratory data analysis</a></li>
<li class="chapter" data-level="" data-path="regression-modelling-with-two-continuous-explanatory-variables.html"><a href="regression-modelling-with-two-continuous-explanatory-variables.html#formal-analysis-2"><i class="fa fa-check"></i>Formal analysis</a></li>
<li class="chapter" data-level="" data-path="regression-modelling-with-two-continuous-explanatory-variables.html"><a href="regression-modelling-with-two-continuous-explanatory-variables.html#assessing-model-fit-2"><i class="fa fa-check"></i>Assessing model fit</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html"><a href="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html"><i class="fa fa-check"></i>Regression modelling with one continuous and one categorical explanatory variable</a>
<ul>
<li class="chapter" data-level="" data-path="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html"><a href="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html#exploratory-data-analysis-3"><i class="fa fa-check"></i>Exploratory data analysis</a></li>
<li class="chapter" data-level="" data-path="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html"><a href="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html#multiple-regression-parallel-slopes-model"><i class="fa fa-check"></i>Multiple regression: parallel slopes model</a></li>
<li class="chapter" data-level="" data-path="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html"><a href="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html#multiple-regression-interaction-model"><i class="fa fa-check"></i>Multiple regression: interaction model</a></li>
<li class="chapter" data-level="" data-path="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html"><a href="regression-modelling-with-one-continuous-and-one-categorical-explanatory-variable.html#assessing-model-fit-3"><i class="fa fa-check"></i>Assessing model fit</a></li>
</ul></li>
<li class="chapter" data-level="" data-path="further-tasks-multiple-linear-regression.html"><a href="further-tasks-multiple-linear-regression.html"><i class="fa fa-check"></i>Further Tasks: Multiple Linear Regression</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Analysis: Regression Modelling</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="simple-linear-regression-with-one-categorical-explanatory-variable" class="section level1 unnumbered hasAnchor">
<h1>Simple linear regression with one categorical explanatory variable<a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#simple-linear-regression-with-one-categorical-explanatory-variable" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p>Here, we will fit a simple linear regression model were the explanatory variable is categorical. A <strong>categorical variable</strong> is a variable of a fixed number of possible values, assigning units to particular groups (or categories) based on qualitative properties.</p>
<p>We shall examine the <code>gapminder</code> data set from the <code>gapminder</code> library. This is a data set on life expectancy across various countries around the world. We will explore life expectancy and its potential differences:</p>
<ul>
<li>Between continents: Does life expectancy vary, on average, between the five continents of the world?; and</li>
<li>Within continents: Does life expectancy vary, on average, within the five continents of the world?</li>
</ul>
<p>Thus, we will be looking at:</p>
<ul>
<li>life expectancy as our numerical outcome variable <span class="math inline">\(y\)</span>; and</li>
<li>the continent a country is within as our categorical variable <span class="math inline">\(x\)</span>.</li>
</ul>
<div id="exploratory-data-analysis-1" class="section level2 unnumbered hasAnchor">
<h2>Exploratory data analysis<a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#exploratory-data-analysis-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>Let's examine a subset of the <code>gapminder</code> data set relating to the year 2007. That is, we use the <code>filter</code> function to choose only the observations pertaining to 2007, and then <code>select</code> the variables we are interested in:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb26-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb26-1" aria-hidden="true" tabindex="-1"></a>gapminder2007 <span class="ot">&lt;-</span> gapminder <span class="sc">%&gt;%</span></span>
<span id="cb26-2"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb26-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(year <span class="sc">==</span> <span class="dv">2007</span>) <span class="sc">%&gt;%</span> </span>
<span id="cb26-3"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb26-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(country, continent, lifeExp)</span></code></pre></div>
<p>The new data set can be examined using either the <code>View</code> or <code>glimpse</code> functions, i.e.<br />
</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb27-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(gapminder2007)</span></code></pre></div>
<pre><code>Rows: 142
Columns: 3
$ country   &lt;fct&gt; &quot;Afghanistan&quot;, &quot;Albania&quot;, &quot;Algeria&quot;, &quot;Angola&quot;, &quot;Argentina&quot;, ~
$ continent &lt;fct&gt; Asia, Europe, Africa, Africa, Americas, Oceania, Europe, Asi~
$ lifeExp   &lt;dbl&gt; 43.828, 76.423, 72.301, 42.731, 75.320, 81.235, 79.829, 75.6~</code></pre>
<p>Here, we can see that both <code>country</code> and <code>continent</code> are factors (<code>fct</code>), which is how R stores categorical variables. Similarly to our previous exploratory data analysis, we can obtain summary statistics using the <code>skim</code> function. First, let's take a look at the life expectancy (<code>lifeExp</code>) and <code>continent</code> variables:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb29-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb29-1" aria-hidden="true" tabindex="-1"></a>gapminder2007 <span class="sc">%&gt;%</span> </span>
<span id="cb29-2"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(continent, lifeExp) <span class="sc">%&gt;%</span> </span>
<span id="cb29-3"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb29-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">skim</span>()</span></code></pre></div>
<table>
<caption><span id="tab:gap3">Table 2: </span>Data summary</caption>
<tbody>
<tr class="odd">
<td align="left">Name</td>
<td align="left">Piped data</td>
</tr>
<tr class="even">
<td align="left">Number of rows</td>
<td align="left">142</td>
</tr>
<tr class="odd">
<td align="left">Number of columns</td>
<td align="left">2</td>
</tr>
<tr class="even">
<td align="left">_______________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Column type frequency:</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">factor</td>
<td align="left">1</td>
</tr>
<tr class="odd">
<td align="left">numeric</td>
<td align="left">1</td>
</tr>
<tr class="even">
<td align="left">________________________</td>
<td align="left"></td>
</tr>
<tr class="odd">
<td align="left">Group variables</td>
<td align="left">None</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: factor</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="left">ordered</th>
<th align="right">n_unique</th>
<th align="left">top_counts</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">continent</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="left">FALSE</td>
<td align="right">5</td>
<td align="left">Afr: 52, Asi: 33, Eur: 30, Ame: 25</td>
</tr>
</tbody>
</table>
<p><strong>Variable type: numeric</strong></p>
<table>
<thead>
<tr class="header">
<th align="left">skim_variable</th>
<th align="right">n_missing</th>
<th align="right">complete_rate</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">p0</th>
<th align="right">p25</th>
<th align="right">p50</th>
<th align="right">p75</th>
<th align="right">p100</th>
<th align="left">hist</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">lifeExp</td>
<td align="right">0</td>
<td align="right">1</td>
<td align="right">67.01</td>
<td align="right">12.07</td>
<td align="right">39.61</td>
<td align="right">57.16</td>
<td align="right">71.94</td>
<td align="right">76.41</td>
<td align="right">82.6</td>
<td align="left">▂▃▃▆▇</td>
</tr>
</tbody>
</table>
<p>The summary output for the numerical outcome variable <code>lifeExp</code> is the same as we have seen previously. However, for the categorical variable <code>continent</code> we obtain:</p>
<ul>
<li><code>n_unique</code>: the number of levels (or categories) of the variable, i.e. the number of continents.</li>
<li><code>top_counts</code>: the top counts from the top categories.</li>
<li><code>ordered</code>: whether the variable is <em>ordinal</em> or not. That is, whether or not the ordering of the categories matter.</li>
</ul>
<p><br></p>
<strong>From the <code>gapminder</code> data set, how many countries comprise Asia?</strong>
<div id="radio_TYYMGGTOQY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_TYYMGGTOQY" value=""></input> <span>52</span></label><label><input type="radio" autocomplete="off" name="radio_TYYMGGTOQY" value="answer"></input> <span>33</span></label><label><input type="radio" autocomplete="off" name="radio_TYYMGGTOQY" value=""></input> <span>25</span></label><label><input type="radio" autocomplete="off" name="radio_TYYMGGTOQY" value=""></input> <span>30</span></label>
</div>
<p><br></p>
<strong>Which continent has the third lowest number of countries in the <code>gapminder</code> data set?</strong>
<div id="radio_SUFDZQSAYK" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_SUFDZQSAYK" value=""></input> <span>Africa</span></label><label><input type="radio" autocomplete="off" name="radio_SUFDZQSAYK" value=""></input> <span>Americas</span></label><label><input type="radio" autocomplete="off" name="radio_SUFDZQSAYK" value=""></input> <span>Oceania</span></label><label><input type="radio" autocomplete="off" name="radio_SUFDZQSAYK" value="answer"></input> <span>Europe</span></label><label><input type="radio" autocomplete="off" name="radio_SUFDZQSAYK" value=""></input> <span>Asia</span></label>
</div>
<p><br></p>
<strong>Is the <code>continent</code> variable ordinal?</strong>
<div id="radio_EXZETVHWJU" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EXZETVHWJU" value=""></input> <span>Yes</span></label><label><input type="radio" autocomplete="off" name="radio_EXZETVHWJU" value="answer"></input> <span>No</span></label>
</div>
<p><br></p>
<p>We can summarise any differences in life expectancy by continent by taking a look at the median and mean life expectancies of each continent using the <code>group_by</code> and <code>summarize</code> functions as follows:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb30-1" aria-hidden="true" tabindex="-1"></a>lifeExp.continent <span class="ot">&lt;-</span> gapminder2007 <span class="sc">%&gt;%</span></span>
<span id="cb30-2"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb30-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(continent) <span class="sc">%&gt;%</span></span>
<span id="cb30-3"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb30-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">median =</span> <span class="fu">median</span>(lifeExp), <span class="at">mean =</span> <span class="fu">mean</span>(lifeExp))</span></code></pre></div>
<pre><code># A tibble: 5 x 3
  continent median  mean
  &lt;fct&gt;      &lt;dbl&gt; &lt;dbl&gt;
1 Africa      52.9  54.8
2 Americas    72.9  73.6
3 Asia        72.4  70.7
4 Europe      78.6  77.6
5 Oceania     80.7  80.7</code></pre>
<p><br></p>
<strong>Which continent has the lowest life expectancy?</strong>
<div id="radio_VSQLYANOCO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_VSQLYANOCO" value=""></input> <span>Asia</span></label><label><input type="radio" autocomplete="off" name="radio_VSQLYANOCO" value=""></input> <span>Americas</span></label><label><input type="radio" autocomplete="off" name="radio_VSQLYANOCO" value=""></input> <span>Oceania</span></label><label><input type="radio" autocomplete="off" name="radio_VSQLYANOCO" value="answer"></input> <span>Africa</span></label><label><input type="radio" autocomplete="off" name="radio_VSQLYANOCO" value=""></input> <span>Europe</span></label>
</div>
<p><br></p>
<p><strong>Task</strong>: Obtain the worldwide median and mean life expectancies from the <code>gapminder2007</code> data set.</p>
<div class="webex-solution">
<button>
Hint
</button>
<p>Use the <code>median</code> and <code>mean</code> functions within the <code>summarize</code> function.</p>
</div>
<div class="webex-solution">
<button>
Solution
</button>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb32-1" aria-hidden="true" tabindex="-1"></a>gapminder2007 <span class="sc">%&gt;%</span></span>
<span id="cb32-2"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb32-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">median =</span> <span class="fu">median</span>(lifeExp), <span class="at">mean =</span> <span class="fu">mean</span>(lifeExp))</span></code></pre></div>
<pre><code># A tibble: 1 x 2
  median  mean
   &lt;dbl&gt; &lt;dbl&gt;
1   71.9  67.0</code></pre>
</div>
<p><br></p>
<p><br></p>
<strong>Is the average life expectancy of Europe higher or lower than the worldwide average?</strong>
<div id="radio_EIHLLFQKIO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_EIHLLFQKIO" value=""></input> <span>Lower</span></label><label><input type="radio" autocomplete="off" name="radio_EIHLLFQKIO" value="answer"></input> <span>Higher</span></label>
</div>
<p><br></p>
<p>Boxplots are often used when examining the distribution of a numerical outcome variable across different levels of a categorical variable:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(gapminder2007, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> lifeExp)) <span class="sc">+</span></span>
<span id="cb34-2"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb34-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_boxplot</span>() <span class="sc">+</span></span>
<span id="cb34-3"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb34-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Continent&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Life expectancy (years)&quot;</span>, </span>
<span id="cb34-4"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb34-4" aria-hidden="true" tabindex="-1"></a>       <span class="at">title =</span> <span class="st">&quot;Life expectancy by continent&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:gap6"></span>
<img src="main_files/figure-html/gap6-1.png" alt="Life expectancy by continent in 2007." width="90%" />
<p class="caption">
Figure 10: Life expectancy by continent in 2007.
</p>
</div>
<p>Here, we can see that the middle 50% of the life expectancy distribution of Africa is much smaller than, and does not overlap with, the middle 50% of the remaining four continents, while the country with the highest life expectancy in Africa is less than all countries in Oceania. Speaking of Oceania, there is almost no variability (or spread) in life expectancy in this continent, however that may well be because it consists of only two countries (Australia and New Zealand). There is more variability in life expectancy in the continents of Africa and Asia.</p>
<p><br></p>
<strong>What country in Asia has a much lower life expectancy than the rest of the continent?</strong>
<div id="radio_UOAPDKGDSH" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_UOAPDKGDSH" value=""></input> <span>Iran</span></label><label><input type="radio" autocomplete="off" name="radio_UOAPDKGDSH" value=""></input> <span>Bahrain</span></label><label><input type="radio" autocomplete="off" name="radio_UOAPDKGDSH" value=""></input> <span>Cambodia</span></label><label><input type="radio" autocomplete="off" name="radio_UOAPDKGDSH" value=""></input> <span>China</span></label><label><input type="radio" autocomplete="off" name="radio_UOAPDKGDSH" value="answer"></input> <span>Afghanistan</span></label><label><input type="radio" autocomplete="off" name="radio_UOAPDKGDSH" value=""></input> <span>Other</span></label>
</div>
<div class="webex-solution">
<button>
Hint
</button>
<p>Start by subsetting the <code>gapminder2007</code> data set for only the <code>continent</code> of Asia using the <code>filter</code> function. The <code>group_by</code> and <code>summarize</code> functions can then be used to obtain a table of the <code>median</code> and <code>mean</code> life expectancies of all countries in Asia.</p>
</div>
<p><br></p>
</div>
<div id="formal-analysis-1" class="section level2 unnumbered hasAnchor">
<h2>Formal analysis<a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#formal-analysis-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>When examining the relationship between a numerical outcome variable <span class="math inline">\(y\)</span> and a categorical explanatory variable <span class="math inline">\(x\)</span>, we are not just looking to find the best-fitting line to the data as before, but are examining relative differences to a baseline category. For example, the table below displays the mean life expectancy of each continent, as well as the differences between the means of each continent and Africa. Now, in comparison with Africa we can see that the mean life expectancy of the other continents is around 18-26 years greater than that of Africa.</p>
<table>
<thead>
<tr class="header">
<th align="left">continent</th>
<th align="right">mean</th>
<th align="right">mean vs Africa</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Africa</td>
<td align="right">54.81</td>
<td align="right">0.00</td>
</tr>
<tr class="even">
<td align="left">Americas</td>
<td align="right">73.61</td>
<td align="right">18.80</td>
</tr>
<tr class="odd">
<td align="left">Asia</td>
<td align="right">70.73</td>
<td align="right">15.92</td>
</tr>
<tr class="even">
<td align="left">Europe</td>
<td align="right">77.65</td>
<td align="right">22.84</td>
</tr>
<tr class="odd">
<td align="left">Oceania</td>
<td align="right">80.72</td>
<td align="right">25.91</td>
</tr>
</tbody>
</table>
<p>Now let us fit our regression model to the data, where <code>lifeExp</code> is our outcome variable <span class="math inline">\(y\)</span> and <code>continent</code> is our categorical explanatory variable <span class="math inline">\(x\)</span>:</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb35-1" aria-hidden="true" tabindex="-1"></a>lifeExp.model <span class="ot">&lt;-</span> <span class="fu">lm</span>(lifeExp <span class="sc">~</span> continent, <span class="at">data =</span> gapminder2007)</span></code></pre></div>
<pre><code># A tibble: 5 x 7
  term                estimate std_error statistic p_value lower_ci upper_ci
  &lt;chr&gt;                  &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;    &lt;dbl&gt;
1 intercept               54.8      1.02     53.4        0     52.8     56.8
2 continent: Americas     18.8      1.8      10.4        0     15.2     22.4
3 continent: Asia         15.9      1.65      9.68       0     12.7     19.2
4 continent: Europe       22.8      1.70     13.5        0     19.5     26.2
5 continent: Oceania      25.9      5.33      4.86       0     15.4     36.4</code></pre>
<p><strong>Note</strong>: For now we will ignore the last five columns of the regression table and only focus on the estimate column.</p>
<p>We obtain five estimates: the <code>intercept</code> term and four others relating to the continents (<code>continentAmericas</code>, <code>continentAsia</code>, <code>continentEurope</code> and <code>continentOceania</code>), such that our regression equation is given as:</p>
<p><span class="math display">\[\widehat{\mbox{life exp}} = \widehat{\alpha} + \widehat{\beta}_{\mbox{Amer}} \cdot \mathbb{I}_{\mbox{Amer}}(x) + \widehat{\beta}_{\mbox{Asia}} \cdot \mathbb{I}_{\mbox{Asia}}(x) + \widehat{\beta}_{\mbox{Euro}} \cdot \mathbb{I}_{\mbox{Euro}}(x) + \widehat{\beta}_{\mbox{Ocean}} \cdot \mathbb{I}_{\mbox{Ocean}}(x),\]</span>
where</p>
<ul>
<li><p>the intercept <span class="math inline">\(\widehat{\alpha}\)</span> is the mean life expectancy for our baseline category Africa;</p></li>
<li><p><span class="math inline">\(\widehat{\beta}_{\mbox{continent}}\)</span> is the difference in the mean life expectancy of a given continent relative to the baseline category Africa; and</p></li>
<li><p><span class="math inline">\(\mathbb{I}_{\mbox{continent}}(x)\)</span> is an indicator function such that</p>
<p><span class="math display">\[\mathbb{I}_{\mbox{continent}}(x)=\left\{
            \begin{array}{ll}
              1 ~~~ \mbox{if country} ~ x ~ \mbox{is in the continent},\\
              0 ~~~ \mbox{Otherwise}.\\
            \end{array}
          \right.\]</span></p></li>
</ul>
<p>Essentially, the estimates for each continent are known as <em>offsets</em> relative to the baseline category (Africa in this case). For example, the mean life expectancy for Africa is simply equal to the intercept term <span class="math inline">\(\widehat{\alpha} = 54.8\)</span>. However, the mean life expectancy for Asia is <span class="math inline">\(\widehat{\alpha} + \widehat{\beta}_{\mbox{Asia}} \cdot \mathbb{I}_{\mbox{Asia}}(x) = 54.8 + 15.9 \cdot 1 = 70.7\)</span>.</p>
<p><br></p>
<strong>From the regression model, what is the mean life expectancy of the Americas?</strong>
<div id="radio_XOVPWBHADO" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_XOVPWBHADO" value=""></input> <span>80.7</span></label><label><input type="radio" autocomplete="off" name="radio_XOVPWBHADO" value=""></input> <span>77.6</span></label><label><input type="radio" autocomplete="off" name="radio_XOVPWBHADO" value="answer"></input> <span>73.6</span></label>
</div>
<p><br></p>
</div>
<div id="assessing-model-fit-1" class="section level2 unnumbered hasAnchor">
<h2>Assessing model fit<a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#assessing-model-fit-1" class="anchor-section" aria-label="Anchor link to header"></a></h2>
<p>What do the fitted values <span class="math inline">\(\widehat{y}\)</span> and the residuals <span class="math inline">\(y - \widehat{y}\)</span> correspond to when we are dealing with a categorical explanatory variable? Let's explore the <code>gapminder2007</code> data set in order to understand how they work.</p>
<pre><code># A tibble: 142 x 3
   country     continent lifeExp
   &lt;fct&gt;       &lt;fct&gt;       &lt;dbl&gt;
 1 Afghanistan Asia         43.8
 2 Albania     Europe       76.4
 3 Algeria     Africa       72.3
 4 Angola      Africa       42.7
 5 Argentina   Americas     75.3
 6 Australia   Oceania      81.2
 7 Austria     Europe       79.8
 8 Bahrain     Asia         75.6
 9 Bangladesh  Asia         64.1
10 Belgium     Europe       79.4
# ... with 132 more rows
# i Use `print(n = ...)` to see more rows</code></pre>
<p>Here, we see the life expectancy of each country and the continent they are from. For example, let's remember the life expectancies of Afghanistan (43.8) and Bahrain (75.6). Now, we can obtain the fitted values and residuals in the same way we did previously:</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb38-1" aria-hidden="true" tabindex="-1"></a>regression_points <span class="ot">&lt;-</span> <span class="fu">get_regression_points</span>(lifeExp.model)</span></code></pre></div>
<pre><code># A tibble: 142 x 5
      ID lifeExp continent lifeExp_hat residual
   &lt;int&gt;   &lt;dbl&gt; &lt;fct&gt;           &lt;dbl&gt;    &lt;dbl&gt;
 1     1    43.8 Asia             70.7  -26.9  
 2     2    76.4 Europe           77.6   -1.23 
 3     3    72.3 Africa           54.8   17.5  
 4     4    42.7 Africa           54.8  -12.1  
 5     5    75.3 Americas         73.6    1.71 
 6     6    81.2 Oceania          80.7    0.516
 7     7    79.8 Europe           77.6    2.18 
 8     8    75.6 Asia             70.7    4.91 
 9     9    64.1 Asia             70.7   -6.67 
10    10    79.4 Europe           77.6    1.79 
# ... with 132 more rows
# i Use `print(n = ...)` to see more rows</code></pre>
<p>The first row of the regression table corresponds to the observed life expectancy (<code>lifeExp</code>), fitted value (<code>lifeExp_hat</code>) and the residual error (<code>residual</code>) for Afghanistan. Here, we see that the fitted value (<code>lifeExp_hat = 70.7</code>) is much greater than the life expectancy of Afghanistan (<code>lifeExp = 43.8</code>) with a <code>residual = -26.9</code>. Now, for Bahrain (<code>ID = 8</code>) we also have the same fitted value (<code>lifeExp_hat = 70.7</code>). This is because the fitted values for each <code>country</code> correspond to the mean life expectancy for that <code>continent</code>. Hence, all countries in Africa have the fitted value<code>lifeExp_hat = 54.8</code>, while all countries in Europe have the fitted value <code>lifeExp_hat = 77.6</code>. The <code>residual</code> error in this case is then how much a country deviates from the mean life expectancy of its respective continent.</p>
<p><br></p>
<strong>Which country has the largest positive <code>residual</code> error?</strong>
<div id="radio_ACEHMXKFSY" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_ACEHMXKFSY" value="answer"></input> <span>Reunion</span></label><label><input type="radio" autocomplete="off" name="radio_ACEHMXKFSY" value=""></input> <span>Belgium</span></label><label><input type="radio" autocomplete="off" name="radio_ACEHMXKFSY" value=""></input> <span>Argentina</span></label><label><input type="radio" autocomplete="off" name="radio_ACEHMXKFSY" value=""></input> <span>Other</span></label><label><input type="radio" autocomplete="off" name="radio_ACEHMXKFSY" value=""></input> <span>Saudi Arabia</span></label>
</div>
<div class="webex-solution">
<button>
Hint
</button>
<p>This can be found by looking through the regression table above. You could also try using the <code>which.max</code> function on the <code>residual</code> column.</p>
</div>
<p><br></p>
<p>For assessing the assumptions surrounding the residuals for a categorical explanatory variable, we can plot the residuals for each continent:</p>
<div class="sourceCode" id="cb40"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb40-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb40-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(regression_points, <span class="fu">aes</span>(<span class="at">x =</span> continent, <span class="at">y =</span> residual)) <span class="sc">+</span></span>
<span id="cb40-2"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb40-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_jitter</span>(<span class="at">width =</span> <span class="fl">0.1</span>) <span class="sc">+</span> </span>
<span id="cb40-3"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb40-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Continent&quot;</span>, <span class="at">y =</span> <span class="st">&quot;Residual&quot;</span>) <span class="sc">+</span></span>
<span id="cb40-4"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb40-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_hline</span>(<span class="at">yintercept =</span> <span class="dv">0</span>, <span class="at">col =</span> <span class="st">&quot;blue&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:gap14"></span>
<img src="main_files/figure-html/gap14-1.png" alt="Residuals over continent." width="90%" />
<p class="caption">
Figure 11: Residuals over continent.
</p>
</div>
<p><strong>Note</strong>: we have jittered the points for each continent in order to see the residuals for each country more clearly.</p>
<p>Here, we see that there is an even spread of the residuals above and below the zero line for each continent, and hence our assumption that the residuals have mean zero appears valid. There is an outlier observed for Asia with a large negative residual (relating to Afghanistan).</p>
<p>To check that the residual errors are normally distributed, we plot a histogram of them:</p>
<div class="sourceCode" id="cb41"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb41-1"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb41-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(regression_points, <span class="fu">aes</span>(<span class="at">x =</span> residual)) <span class="sc">+</span></span>
<span id="cb41-2"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_histogram</span>(<span class="at">binwidth =</span> <span class="dv">5</span>, <span class="at">color =</span> <span class="st">&quot;white&quot;</span>) <span class="sc">+</span></span>
<span id="cb41-3"><a href="simple-linear-regression-with-one-categorical-explanatory-variable.html#cb41-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">labs</span>(<span class="at">x =</span> <span class="st">&quot;Residual&quot;</span>)</span></code></pre></div>
<div class="figure" style="text-align: center"><span style="display:block;" id="fig:gap15"></span>
<img src="main_files/figure-html/gap15-1.png" alt="Histogram of residuals." width="90%" />
<p class="caption">
Figure 12: Histogram of residuals.
</p>
</div>
<p><br></p>
<strong>Are the residuals normally distributed with mean zero?</strong>
<div id="radio_NXDDVBYJKT" class="webex-radiogroup">
<label><input type="radio" autocomplete="off" name="radio_NXDDVBYJKT" value="answer"></input> <span>Yes</span></label><label><input type="radio" autocomplete="off" name="radio_NXDDVBYJKT" value=""></input> <span>No</span></label>
</div>
<p><br>
<br></p>

</div>
</div>
<script>

/* update total correct if #webex-total_correct exists */
update_total_correct = function() {
  console.log("webex: update total_correct");

  if (t = document.getElementById("webex-total_correct")) {
    var correct = document.getElementsByClassName("webex-correct").length;
    var solvemes = document.getElementsByClassName("webex-solveme").length;
    var radiogroups = document.getElementsByClassName("webex-radiogroup").length;
    var selects = document.getElementsByClassName("webex-select").length;
    
    t.innerHTML = correct + " of " + (solvemes + radiogroups + selects) + " correct";
  }
}

/* webex-solution button toggling function */
b_func = function() {
  console.log("webex: toggle hide");
  
  var cl = this.parentElement.classList;
  if (cl.contains('open')) {
    cl.remove("open");
  } else {
    cl.add("open");
  }
}

/* function for checking solveme answers */
solveme_func = function(e) {
  console.log("webex: check solveme");

  var real_answers = JSON.parse(this.dataset.answer);
  var my_answer = this.value;
  var cl = this.classList;
  if (cl.contains("ignorecase")) {
    my_answer = my_answer.toLowerCase();
  }
  if (cl.contains("nospaces")) {
    my_answer = my_answer.replace(/ /g, "")
  }

  if (my_answer == "") {
    cl.remove("webex-correct");
    cl.remove("webex-incorrect");
  } else if (real_answers.includes(my_answer)) {
    cl.add("webex-correct");
    cl.remove("webex-incorrect");
  } else {
    cl.add("webex-incorrect");
    cl.remove("webex-correct");
  }

  // match numeric answers within a specified tolerance
  if(this.dataset.tol > 0){
    var tol = JSON.parse(this.dataset.tol);
    var matches = real_answers.map(x => Math.abs(x - my_answer) < tol)
    if (matches.reduce((a, b) => a + b, 0) > 0) {
      cl.add("webex-correct");
    } else {
      cl.remove("webex-correct");
    }
  }

  // added regex bit
  if (cl.contains("regex")){
    answer_regex = RegExp(real_answers.join("|"))
    if (answer_regex.test(my_answer)) {
      cl.add("webex-correct");
    }
  }

  update_total_correct();
}

/* function for checking select answers */
select_func = function(e) {
  console.log("webex: check select");
  
  var cl = this.classList
  
  /* add style */
  cl.remove("webex-incorrect");
  cl.remove("webex-correct");
  if (this.value == "answer") {
    cl.add("webex-correct");
  } else if (this.value != "blank") {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

/* function for checking radiogroups answers */
radiogroups_func = function(e) {
  console.log("webex: check radiogroups");

  var checked_button = document.querySelector('input[name=' + this.id + ']:checked');
  var cl = checked_button.parentElement.classList;
  var labels = checked_button.parentElement.parentElement.children;
  
  /* get rid of styles */
  for (i = 0; i < labels.length; i++) {
    labels[i].classList.remove("webex-incorrect");
    labels[i].classList.remove("webex-correct");
  }
  
  /* add style */
  if (checked_button.value == "answer") {
    cl.add("webex-correct");
  } else {
    cl.add("webex-incorrect");
  }
  
  update_total_correct();
}

window.onload = function() {
  console.log("onload");
  /* set up solution buttons */
  var buttons = document.getElementsByTagName("button");

  for (var i = 0; i < buttons.length; i++) {
    if (buttons[i].parentElement.classList.contains('webex-solution')) {
      buttons[i].onclick = b_func;
    }
  }

  /* set up webex-solveme inputs */
  var solveme = document.getElementsByClassName("webex-solveme");

  for (var i = 0; i < solveme.length; i++) {
    /* make sure input boxes don't auto-anything */
    solveme[i].setAttribute("autocomplete","off");
    solveme[i].setAttribute("autocorrect", "off");
    solveme[i].setAttribute("autocapitalize", "off");
    solveme[i].setAttribute("spellcheck", "false");
    solveme[i].value = "";

    /* adjust answer for ignorecase or nospaces */
    var cl = solveme[i].classList;
    var real_answer = solveme[i].dataset.answer;
    if (cl.contains("ignorecase")) {
      real_answer = real_answer.toLowerCase();
    }
    if (cl.contains("nospaces")) {
      real_answer = real_answer.replace(/ /g, "");
    }
    solveme[i].dataset.answer = real_answer;

    /* attach checking function */
    solveme[i].onkeyup = solveme_func;
    solveme[i].onchange = solveme_func;
  }
  
  /* set up radiogroups */
  var radiogroups = document.getElementsByClassName("webex-radiogroup");
  for (var i = 0; i < radiogroups.length; i++) {
    radiogroups[i].onchange = radiogroups_func;
  }
  
  /* set up selects */
  var selects = document.getElementsByClassName("webex-select");
  for (var i = 0; i < selects.length; i++) {
    selects[i].onchange = select_func;
  }

  update_total_correct();
}

</script>
            </section>

          </div>
        </div>
      </div>
<a href="simple-linear-regression-with-one-numerical-explanatory-variable.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="further-tasks-simple-linear-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": null,
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["main.pdf", "main.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection",
"scroll_highlight": true
},
"info": true
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
